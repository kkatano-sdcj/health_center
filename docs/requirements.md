# AIチャットボット要件定義書

**プロジェクト名：** 医療システムサポートAIチャットボット  
**顧客名：** システムズ・デザイン株式会社 医療リモートセンター  
**文書バージョン：** 1.0 
**作成日：** 2025年7月22日

## 1. エグゼクティブサマリー

本プロジェクトは、医療機関からの電子カルテ・診療報酬請求システムに関する問い合わせ対応を効率化するAIチャットボットシステムの開発です。SBERT、LangChain、LLMを活用し、散在する社内ナレッジを統合することで、24時間365日、一貫性のある高品質な回答を提供します。

### 主要目標
- 初期対応時間をに短縮（50%削減が目標）
- 回答精度95%以上の実現
- 年間コスト削減効果
- 2次対応の情報伝達迅速化
- システムトラブルシューティングに関する情報検索の迅速化
- ナレッジの一元管理

## 2. ビジネス要求

### 2.1 現状の課題

| 課題 | 現状 | 影響 |
|------|------|------|
| 対応時間の増大 | 平均30分/件 | 業務効率低下、残業増加 |
| 情報の分散 | 複数システムに散在 | 検索時間12分/件 |
| 回答の不一致 | 担当者により異なる | 顧客満足度低下 |
| 属人化 | ベテラン5名に60%集中 | リスク高、標準化困難 |
| 24時間対応不可 | 営業時間のみ | 機会損失、競争力低下 |

### 2.2 ビジネス目標とKPI

| KPI | 現状値 | 目標値（6ヶ月） | 目標値（1年） |
|-----|--------|----------------|---------------|
| 平均初期対応時間 | 30分 | 15分 | 10分 |
| 一次解決率 | 45% | 65% | 80% |
| チャットボット解決率 | - | 60% | 75% |
| システム利用率 | - | 80% | 95% |
| 顧客満足度 | 3.2 | 4.0 | 4.5 |
| コスト削減額 | - | 1,200万円 | 2,400万円 |

## 3. 機能要求

### 3.1 ユーザー操作フロー

1. **質問入力** - ユーザーが自然言語で質問を入力
2. **SBERT類似度検索** - FAQから類似するQuestionを検索
3. **候補提示** - 類似度の高いQuestion最大5件を表示
4. **選択処理**
   - Question選択 → 対応するAnswerを即座表示
   - AISearch選択 → RAG機能起動
5. **AI回答生成** - LangChainとLLMによる回答生成
6. **解決確認** - 「解決した/解決しない」ボタン表示
7. **未解決対応**
   - 再質問の促し
   - メールでの担当者への直接問い合わせ

### 3.2 主要機能一覧

| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|---------|
| FR-001 | 自然言語質問入力 | 最大1000文字、履歴保存、オートコンプリート | 必須 |
| FR-002 | SBERT類似度検索 | 高速ベクトル検索、2秒以内応答 | 必須 |
| FR-003 | FAQ回答表示 | 即座表示、メタ情報付与、評価機能 | 必須 |
| FR-004 | RAG機能 | コンテキスト検索、情報統合 | 必須 |
| FR-005 | LLM回答生成 | ストリーミング表示、ソース明示 | 必須 |
| FR-006 | フィードバック収集 | 解決/未解決、5段階評価 | 必須 |
| FR-007 | エスカレーション | メール送信、会話履歴添付 | 必須 |
| FR-008 | ナレッジ管理 | CRUD操作、バージョン管理 | 必須 |
| FR-009 | 分析ダッシュボード | リアルタイム分析、レポート生成 | 高 |
| FR-010 | ユーザー管理 | 認証、権限管理、監査ログ | 必須 |

## 4. 非機能要求

### 4.1 性能要件

| 項目 | 要件値 | 備考 |
|------|--------|------|
| ページロード時間 | 1秒以内 | 初回アクセス時 |
| SBERT検索時間 | 0.5秒以内 | 10万件データベース |
| FAQ表示時間 | 0.1秒以内 | キャッシュヒット時 |
| LLM初回応答 | 3秒以内 | ストリーミング開始まで |
| 同時接続数 | 100ユーザー | ピーク時対応 |
| スループット | 50 req/sec | 最大処理能力 |

### 4.2 可用性要件

| 項目 | 要件値 |
|------|--------|
| 稼働率 | 99.5%（年間ダウンタイム44時間以内） |
| MTBF | 720時間 |
| MTTR | 4時間 |
| RPO | 1時間 |
| RTO | 4時間 |

### 4.3 セキュリティ要件

- **認証**: 多要素認証（MFA）必須、SAML 2.0 SSO対応
- **暗号化**: 保存データ（AES-256）、通信データ（TLS 1.3）
- **アクセス制御**: ロールベース（RBAC）、最小権限の原則
- **監査**: 全操作ログ記録、1年間保持
- **コンプライアンス**: 医療情報システムの安全管理ガイドライン準拠

### 4.4 拡張性要件

| 期間 | ユーザー数 | データ量 | リクエスト数/日 |
|------|-----------|----------|----------------|
| 現在 | 30 | 100GB | 1,000 |
| 1年後 | 150 | 1TB | 10,000 |
| 3年後 | 500 | 5TB | 50,000 |

## 5. 制約事項

### 5.1 技術的制約
- 既存ネットワークインフラの使用
- オンプレミス環境での初期運用（クラウド移行は第2フェーズ）
- 既存バックアップシステムとの統合必須

### 5.2 ビジネス制約
- 予算上限：100万円
- 開発期間：6ヶ月
- 段階的リリース必須（MVP→本番）

## 6. ステークホルダー

### 6.1 主要ステークホルダー

| ステークホルダー | 人数 | 主な要求 | 優先度 |
|-----------------|------|----------|---------|
| サポート担当者 | 20名 | 使いやすさ、高速検索、履歴参照 | 高 |
| 技術管理者 | 5名 | 一元管理、更新容易性、バージョン管理 | 高 |
| 開発メーカーエンジニア | - 名 | 技術情報の正確性、セキュアな共有 | 中 |
| 経営層 | - | ROI可視化、コスト削減効果 | 中 |
| IT部門 | - | システム統合、運用容易性 | 高 |

## 7. 前提条件

1. 既存のActive Directoryとの連携が可能
2. ユーザーは基本的なPC操作スキルを保有
3. 日本語での運用が前提
4. 医療関連の専門用語辞書を事前準備
5. 初期ナレッジデータの整備に協力が得られる

## 8. リスク

| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| LLM精度不足 | 高 | 中 | 複数モデル評価、継続的学習 |
| 個人情報漏洩 | 高 | 低 | データマスキング、アクセス制御 |
| 要件変更多発 | 中 | 高 | 変更管理プロセス、バッファ確保 |
| 性能要件未達 | 中 | 中 | 早期性能テスト、スケールアップ |

## 9. 成功基準

### 9.1 定量的成功基準
- 初期対応時間：15分以内（50%削減）
- チャットボット解決率：60%以上
- システム稼働率：99.5%以上
- ユーザー満足度：4.0以上（5段階評価）

### 9.2 定性的成功基準
- ナレッジの一元化完了
- 24時間対応体制の確立
- 回答の一貫性確保
- 属人化の解消

## 10. 用語定義

| 用語 | 説明 |
|------|------|
| SBERT | Sentence-BERT。文章の意味的類似性を計算するための事前学習済みモデル |
| LangChain | LLMアプリケーション開発のためのフレームワーク |
| RAG | Retrieval-Augmented Generation。検索結果を基に回答を生成する手法 |
| FAQ | Frequently Asked Questions。よくある質問と回答 |
| MFA | Multi-Factor Authentication。多要素認証 |
| PII | Personally Identifiable Information。個人識別可能情報 |